{"version":3,"sources":["webpack:///./src/resources.js","webpack:///./src/paletteWavelength.png","webpack:///./src/paletteRedYellow.png","webpack:///./src/paletteRedGreen.png","webpack:///./src/paletteHue.png","webpack:///./src/paletteFrequency.png","webpack:///./src/paletteBlueYellow.png","webpack:///./src/web-gl.js","webpack:///./src/user-interface.js","webpack:///./src/mandelbrotFragment.glsl","webpack:///./src/mandelbrotVertex.glsl","webpack:///./src/mandelbrot.js","webpack:///./src/animation.js","webpack:///./src/main.css","webpack:///./src/main.css?e0d3","webpack:///./src/main.js"],"names":["__webpack_require__","datas","paletteBlueYellow","paletteFrequency","paletteHue","paletteRedGreen","paletteRedYellow","paletteWavelength","mandelbrotVertex","mandelbrotFragment","module","exports","p","setup","canvas","document","getElementById","canvasId","gl","getContext","ex","initGraphicalLibrary","vs","createShader","VERTEX_SHADER","fs","FRAGMENT_SHADER","program","createProgram","TEXTURE_FILTER","LINEAR","viewport","width","height","clearColor","GL","resizeViewport","compileVertexShader","sourceCode","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","window","console","error","getShaderInfoLog","compileFragmentShader","linkShaders","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","getProgramInfoLog","getUniformLocation","uniform","location","Error","setAttribFloatArray","attrib","array","itemSize","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","loadTexture2D","texture","imageBase64","image","Image","src","bindTexture","TEXTURE_2D","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","REPEAT","dragStart","x","y","dragOffset","translate","scale","canvasElement","modelComponent","choosePalette","resourceName","selectedPaletteButton","resources","glColorPalette","mouseWheelHandler","event","stopPropagation","detail","wheelDelta","increaseScale","decreaseScale","selectionPaletteElement","style","display","addEventListener","childNodes","forEach","childNode","nodeType","className","target","getAttribute","increaseIterationButton","increaseIteration","decreaseIterationButton","decreaseIteration","clientX","clientY","moveX","moveY","registerModelComponent","value","update","maxIteration","modelScale","maxIterationElement","innerHTML","Math","floor","scaleElement","round","_resources","webGL","userInterface","vertices","Float32Array","textureCoords","aspect","targetScale","colorTexture","lastDraw","Date","colorPalette","loop","translateX","translateY","aspectScale","minX","maxX","minY","maxY","now","uniform1i","clear","COLOR_BUFFER_BIT","drawArrays","TRIANGLE_STRIP","min","max","name","resource","deleteTexture","createTexture","activeTexture","TEXTURE0","callback","running","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","animateCallback","setTimeout","start","animate","stop","escape","push","i","content","options","hmr","transform","insertInto","undefined","locals","_webGl2","default","_userInterface2","model","_mandelbrot2","animation","_animation2","exception","alert","init"],"mappings":"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","file":"main.e580d5bd7f103243bca0.js","sourcesContent":["\nimport { default as paletteBlueYellow } from './paletteBlueYellow.png'\nimport { default as paletteFrequency } from './paletteFrequency.png'\nimport { default as paletteHue } from './paletteHue.png'\nimport { default as paletteRedGreen } from './paletteRedGreen.png'\nimport { default as paletteRedYellow } from './paletteRedYellow.png'\nimport { default as paletteWavelength } from './paletteWavelength.png'\nimport { default as mandelbrotVertex } from './mandelbrotVertex.glsl'\nimport { default as mandelbrotFragment } from './mandelbrotFragment.glsl'\n\nconst datas = {\n  'paletteBlueYellow': paletteBlueYellow,\n  'paletteFrequency': paletteFrequency,\n  'paletteHue': paletteHue,\n  'paletteRedGreen': paletteRedGreen,\n  'paletteRedYellow': paletteRedYellow,\n  'paletteWavelength': paletteWavelength,\n  'mandelbrotVertex': mandelbrotVertex,\n  'mandelbrotFragment': mandelbrotFragment\n}\n\nexport default datas\n","module.exports = __webpack_public_path__ + \"paletteWavelength.9633f2de5e1f194a9d59c852ad9a9e6d.png\";","module.exports = __webpack_public_path__ + \"paletteRedYellow.6272e7da83af90b80f06d1e37ef50dc7.png\";","module.exports = __webpack_public_path__ + \"paletteRedGreen.32b14047877649317dc74eb44bb767b6.png\";","module.exports = __webpack_public_path__ + \"paletteHue.c77ae57c5a2ebc3213e40871828e692f.png\";","module.exports = __webpack_public_path__ + \"paletteFrequency.c8cc030b47b04a3cf07724e737e7bf7c.png\";","module.exports = __webpack_public_path__ + \"paletteBlueYellow.4162a68c3ef0af9258f2e35c8c5819c1.png\";","function initGraphicalLibrary (canvas) {\n  let gl\n  try {\n    gl = canvas.getContext('webgl')\n  } catch (ex) {}\n  if (gl === null) {\n    try {\n      gl = canvas.getContext('experimental-webgl')\n    } catch (ex) {}\n  }\n  return gl\n}\n\nexport default function (setup) {\n  const canvas = document.getElementById(setup.canvasId)\n  // Graphical Library\n  var gl = initGraphicalLibrary(canvas)\n  // Vertex Shader\n  const vs = gl.createShader(gl.VERTEX_SHADER)\n  // Fragment Shader\n  const fs = gl.createShader(gl.FRAGMENT_SHADER)\n  // OpenGL Program\n  const program = gl.createProgram()\n  // OpenGL Texture Configuration\n  const TEXTURE_FILTER = gl.LINEAR\n  const createBuffer = function (array) {\n    var buffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\n    gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW)\n    return buffer\n  }\n  const getAttribLocation = function (attrib) {\n    return gl.getAttribLocation(program, attrib)\n  }\n\n  gl.viewport(0, 0, canvas.width, canvas.height)\n  gl.clearColor(0, 0, 0, 1)\n\n  return {\n    GL: gl,\n    canvas: {\n      width: canvas.width,\n      height: canvas.height\n    },\n    resizeViewport: function () {\n      gl.viewport(0, 0, canvas.width, canvas.height)\n    },\n    compileVertexShader: function (sourceCode) {\n      gl.shaderSource(vs, sourceCode)\n      gl.compileShader(vs)\n      if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {\n        window.console.error(gl.getShaderInfoLog(vs))\n      }\n    },\n    compileFragmentShader: function (sourceCode) {\n      gl.shaderSource(fs, sourceCode)\n      gl.compileShader(fs)\n      if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {\n        window.console.error(gl.getShaderInfoLog(fs))\n      }\n    },\n    linkShaders: function () {\n      gl.attachShader(program, vs)\n      gl.attachShader(program, fs)\n      gl.linkProgram(program)\n      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        window.console.error(gl.getProgramInfoLog(program))\n      } else {\n        gl.useProgram(program)\n      }\n    },\n    getUniformLocation: function (uniform) {\n      var location = gl.getUniformLocation(program, uniform)\n      if (location && location !== -1) {\n        return location\n      } else {\n        throw new Error(`UniformLocation of ${uniform} not found`)\n      }\n    },\n    setAttribFloatArray: function (attrib, array, itemSize) {\n      createBuffer(array)\n      var location = getAttribLocation(attrib)\n      if (location !== -1) {\n        gl.enableVertexAttribArray(location)\n        gl.vertexAttribPointer(location, itemSize, gl.FLOAT, false, 0, 0)\n      } else {\n        throw new Error(`AttribLocation of ${attrib} not found`)\n      }\n    },\n    loadTexture2D: function (texture, imageBase64) {\n      const image = new Image()\n      image.src = imageBase64\n      gl.bindTexture(gl.TEXTURE_2D, texture)\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true)\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image)\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, TEXTURE_FILTER)\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, TEXTURE_FILTER)\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT)\n    }\n  }\n}\n","import resources from './resources'\n\nconst maxIterationElement = document.getElementById('maxIteration')\nconst scaleElement = document.getElementById('scale')\nconst increaseIterationButton = document.getElementById('increaseIteration')\nconst decreaseIterationButton = document.getElementById('decreaseIteration')\nconst selectedPaletteButton = document.getElementById('selectedPalette')\nconst selectionPaletteElement = document.getElementById('selectionPalette')\n\nexport default function (setup) {\n  var dragStart = {x: null, y: null}\n  var dragOffset = {x: 0, y: 0}\n  var translate = {x: 0, y: 0}\n  var scale = 0.1\n  var canvasElement = document.getElementById(setup.canvasId)\n  var modelComponent = null\n  const choosePalette = resourceName => {\n    selectedPaletteButton.src = resources[resourceName]\n    if (modelComponent !== null) {\n      modelComponent.glColorPalette(resourceName)\n    } else {\n      console.error('no model component')\n    }\n  }\n  const mouseWheelHandler = function (event) {\n    var wheel\n    event.stopPropagation()\n    // event.preventDefault();\n    if (modelComponent !== null) {\n      wheel = event.detail ? -1 * event.detail : event.wheelDelta / 40\n      if (wheel > 0) {\n        modelComponent.increaseScale()\n      } else {\n        modelComponent.decreaseScale()\n      }\n    }\n    return false\n  }\n  // Color palette selection initialisation\n  selectionPaletteElement.style.display = 'none'\n  // Color palette selection event handlers\n  selectedPaletteButton.addEventListener('click', function () {\n    if (selectionPaletteElement.style.display === 'none') {\n      selectionPaletteElement.style.display = ''\n    } else {\n      selectionPaletteElement.style.display = 'none'\n    }\n  })\n  selectionPaletteElement.childNodes.forEach(childNode => {\n    if (childNode.nodeType === 1 && childNode.className === 'colorPalette') {\n      childNode.addEventListener('click', event => {\n        const resourceName = event.target.getAttribute('id')\n        selectionPaletteElement.style.display = 'none'\n        choosePalette(resourceName)\n      })\n    }\n  })\n  // Increase/decrease maximum iteration event handlers\n  increaseIterationButton.addEventListener('click', function () {\n    if (modelComponent !== null) {\n      modelComponent.increaseIteration()\n    }\n  })\n  decreaseIterationButton.addEventListener('click', function () {\n    if (modelComponent !== null) {\n      modelComponent.decreaseIteration()\n    }\n  })\n  // Mouse events handlers\n  canvasElement.addEventListener('DOMMouseScroll', mouseWheelHandler)\n  canvasElement.addEventListener('mousewheel', mouseWheelHandler)\n\n  canvasElement.addEventListener('mousedown', function (event) {\n    event.stopPropagation()\n    dragStart.x = event.clientX\n    dragStart.y = event.clientY\n    dragOffset.x = 0.0\n    dragOffset.y = 0.0\n  })\n  canvasElement.addEventListener('mouseup', function (event) {\n    event.stopPropagation()\n    dragStart.x = null\n    dragStart.y = null\n    translate.x += dragOffset.x\n    translate.y += dragOffset.y\n    dragOffset.x = 0\n    dragOffset.y = 0\n  })\n  canvasElement.addEventListener('mousemove', function (event) {\n    var moveX, moveY\n    event.stopPropagation()\n    if (dragStart.x !== null) {\n      moveX = dragStart.x - event.clientX\n      moveY = dragStart.y - event.clientY\n      dragOffset.x = (2 / scale) * (moveX / canvasElement.width)\n      dragOffset.y = (-2 / scale) * (moveY / canvasElement.height)\n    }\n  })\n  return {\n    registerModelComponent: function (value) {\n      modelComponent = value\n    },\n    update: function (maxIteration, modelScale) {\n      scale = modelScale\n      maxIterationElement.innerHTML = Math.floor(maxIteration)\n      scaleElement.innerHTML = scale >= 10 ? Math.floor(scale) : Math.round(scale * 100) / 100\n    },\n    choosePalette: choosePalette,\n    dragOffset: dragOffset,\n    translate: translate\n  }\n}\n","module.exports = \"#ifdef GL_ES\\r\\nprecision highp float;\\r\\n#endif\\r\\n\\r\\nuniform int maxIteration;\\r\\nuniform sampler2D colorPalette;\\r\\n\\r\\nvarying vec2 v_TextureCoord;\\r\\n\\r\\nconst int loopLimit = 1024;\\r\\n\\r\\nvoid main() {\\r\\n\\tvec2 c = v_TextureCoord;\\r\\n\\tvec2 z = v_TextureCoord;\\r\\n\\tint iteration = 0;\\r\\n\\tfor(int i = 0; i < loopLimit; i++) {\\r\\n\\t\\tfloat x = (z.x * z.x - z.y * z.y) + c.x;\\r\\n\\t\\tfloat y = (z.y * z.x + z.x * z.y) + c.y;\\r\\n\\t\\tif((x * x + y * y) > 4.0 || iteration == maxIteration) break;\\r\\n\\t\\tz.x = x;\\r\\n\\t\\tz.y = y;\\r\\n\\t\\titeration++;\\r\\n\\t}\\r\\n\\tgl_FragColor = (iteration == maxIteration ? vec4(0.0, 0.0, 0.0, 1.0) : texture2D(colorPalette, vec2(float(iteration)) / float(maxIteration), 0.0));\\r\\n}\\r\\n\"","module.exports = \"#ifdef GL_ES\\r\\nprecision highp float;\\r\\n#endif\\r\\n\\r\\nattribute vec2 aVertexPosition;\\r\\nattribute vec2 aTexturePosition;\\r\\n\\r\\nvarying vec2 v_TextureCoord;\\r\\n\\r\\nvoid main() {\\r\\n\\tv_TextureCoord = aTexturePosition;\\r\\n\\tgl_Position = vec4(aVertexPosition, 0.0, 1.0);\\r\\n}\\r\\n\"","import { default as resources } from './resources'\n\n/* global window, document, Float32Array */\n\nexport default function (webGL, userInterface) {\n  var vertices = new Float32Array([\n    1, 1,\n    -1, 1,\n    1, -1,\n    -1, -1\n  ])\n  var textureCoords = new Float32Array([\n    2.0, 2.0,\n    -2.0, 2.0,\n    2.0, -2.0,\n    -2.0, -2.0\n  ])\n  var gl = webGL.GL\n  var aspect = webGL.canvas.width / webGL.canvas.height\n  var scale = 0.1\n  var targetScale = 1\n  var maxIteration = 64\n  var colorTexture = null\n  var uniform = {}\n  const glColorPalette = function (name) {\n    var resource = resources[name]\n    if (resource) {\n      if (colorTexture !== null) {\n        gl.deleteTexture(colorTexture)\n      }\n      // Load an image to use. Returns a WebGLTexture object\n      colorTexture = gl.createTexture()\n      webGL.loadTexture2D(colorTexture, resource)\n\n      gl.activeTexture(gl.TEXTURE0)\n      gl.bindTexture(gl.TEXTURE_2D, colorTexture)\n      gl.uniform1i(uniform.colorPalette, 0)\n    }\n  }\n  const draw = function () {\n    var translateX = 2 * (userInterface.translate.x + userInterface.dragOffset.x)\n    var translateY = 2 * (userInterface.translate.y + userInterface.dragOffset.y)\n    var aspectScale = scale * aspect\n    var minX = (translateX * scale - 2.0) / scale\n    var maxX = (translateX * scale + 2.0) / scale\n    var minY = (translateY * scale - 2.0) / aspectScale\n    var maxY = (translateY * scale + 2.0) / aspectScale\n    textureCoords = new Float32Array([\n      maxX, maxY,\n      minX, maxY,\n      maxX, minY,\n      minX, minY\n    ])\n    webGL.setAttribFloatArray('aTexturePosition', textureCoords, 2)\n    gl.uniform1i(uniform.maxIteration, maxIteration)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\n  }\n  const animate = function () {\n    scale += (targetScale - scale) / 2\n    userInterface.update(maxIteration, scale)\n  }\n  var lastDraw = new Date()\n  var that\n\n  webGL.compileVertexShader(resources['mandelbrotVertex'])\n  webGL.compileFragmentShader(resources['mandelbrotFragment'])\n  webGL.linkShaders()\n  uniform = {\n    colorPalette: webGL.getUniformLocation('colorPalette'),\n    maxIteration: webGL.getUniformLocation('maxIteration')\n  }\n  webGL.setAttribFloatArray('aVertexPosition', vertices, 2)\n  that = {\n    loop: function () {\n      var now = new Date()\n      while (now - lastDraw > 16) {\n        animate()\n        lastDraw += 16\n      }\n      lastDraw = now\n      draw()\n    },\n    increaseIteration: function () {\n      maxIteration += maxIteration * 0.1\n      maxIteration = Math.min(maxIteration, 1024)\n    },\n    decreaseIteration: function () {\n      maxIteration -= maxIteration * 0.1\n      maxIteration = Math.max(maxIteration, 64)\n    },\n    increaseScale: function () {\n      targetScale += targetScale * 0.1\n      targetScale = Math.min(targetScale, 65535 * 2)\n    },\n    decreaseScale: function () {\n      targetScale -= targetScale * 0.1\n      targetScale = Math.max(targetScale, 0.5)\n    },\n    glColorPalette: glColorPalette\n  }\n  return that\n}\n","/**\n * Canvas animator, or 'the main loop',\n * call the parameter method callback at 60fps.\n *\n * @param {Function} callback - Update method.\n */\nexport default function (callback) {\n  var running = true\n  /**\n   * 60fps timer, using the browser capability if available\n   * Source: http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n  const requestAnimationFrame = (function () {\n    // shim layer with setTimeout fallback\n    if (!window.requestAnimationFrame) {\n      if (window.webkitRequestAnimationFrame) {\n        return window.webkitRequestAnimationFrame\n      } else if (window.mozRequestAnimationFrame) {\n        return window.mozRequestAnimationFrame\n      } else if (window.oRequestAnimationFrame) {\n        return window.oRequestAnimationFrame\n      } else if (window.msRequestAnimationFrame) {\n        return window.msRequestAnimationFrame\n      } else {\n        return function (animateCallback) {\n          window.setTimeout(animateCallback, 1000 / 60)\n        }\n      }\n    } else {\n      return window.requestAnimationFrame\n    }\n  }())\n  /**\n   * The loop itself, running if used to stop\n   * or continue the animation.\n   */\n  const animate = function () {\n    if (running) {\n      callback()\n      requestAnimationFrame(animate)\n    }\n  }\n  return {\n    /**\n     * Initialize and start the animator.\n     */\n    start: function () {\n      running = true\n      animate()\n    },\n    /**\n     * Stop the animator and return the average\n     * fps of the last execution.\n     *\n     * @returns {string} - Last execution's fps.\n     */\n    stop: function () {\n      running = false\n    }\n  }\n}\n","var escape = require(\"../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body {\\n    background-color: black;\\n    color: white;\\n}\\n\\n#viewport {\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n#controls {\\n    position: absolute;\\n    top: 15px;\\n    left: 15px;\\n    background-color: rgba(0, 0, 0, 0.5);\\n    padding: 10px;\\n    border: solid 1px white;\\n}\\n\\n.colorPalette {\\n    width: 256px;\\n    height: 16px;\\n    cursor: pointer;\\n}\\n\\n#selectionPalette {\\n    position: absolute;\\n}\\n.colorPalette#paletteBlueYellow {\\n    background-image: url(\" + escape(require(\"./paletteBlueYellow.png\")) + \");\\n}\\n.colorPalette#paletteFrequency {\\n    background-image: url(\" + escape(require(\"./paletteFrequency.png\")) + \");\\n}\\n.colorPalette#paletteHue {\\n    background-image: url(\" + escape(require(\"./paletteHue.png\")) + \");\\n}\\n.colorPalette#paletteRedGreen {\\n    background-image: url(\" + escape(require(\"./paletteRedGreen.png\")) + \");\\n}\\n.colorPalette#paletteRedYellow {\\n    background-image: url(\" + escape(require(\"./paletteRedYellow.png\")) + \");\\n}\\n.colorPalette#paletteWavelength {\\n    background-image: url(\" + escape(require(\"./paletteWavelength.png\")) + \");\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../node_modules/css-loader/index.js!./main.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./main.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./main.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import 'normalize-css'\nimport './main.css'\nimport { default as Animation } from './animation'\nimport { default as Mandelbrot } from './mandelbrot'\nimport { default as UserInterface } from './user-interface'\nimport { default as WebGL } from './web-gl'\n\n/* global window, document, Float32Array */\nfunction init (setup) {\n  try {\n    const webGL = WebGL(setup)\n    const userInterface = UserInterface(setup)\n    const model = Mandelbrot(webGL, userInterface)\n    const animation = Animation(model.loop)\n    userInterface.registerModelComponent(model)\n    userInterface.choosePalette('paletteRedYellow')\n    animation.start()\n  } catch (exception) {\n    if (window.console) {\n      window.console.error(exception)\n    }\n    window.alert('Your browser doesn\\'t support WebGL.')\n  }\n}\n\ninit({canvasId: 'mycanvas'})\n"],"sourceRoot":""}